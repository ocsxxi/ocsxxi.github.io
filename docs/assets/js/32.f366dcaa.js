(window.webpackJsonp=window.webpackJsonp||[]).push([[32],{473:function(t,s,a){"use strict";a.r(s);var n=a(19),e=Object(n.a)({},(function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("h1",{attrs:{id:"背景"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#背景"}},[t._v("#")]),t._v(" 背景")]),t._v(" "),a("p",[t._v("根据网络搜索引擎提供的解决方法，如\n"),a("a",{attrs:{href:"https://blog.csdn.net/li19931130/article/details/125145650",target:"_blank",rel:"noopener noreferrer"}},[t._v("electron无边框模式完美解决同时实现拖动和双击最大化"),a("OutboundLink")],1),t._v("等，发现了：添加代码后，拖动窗口时窗口移动，但同时窗口大小发生意想不到的改变。")]),t._v(" "),a("h1",{attrs:{id:"解决"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#解决"}},[t._v("#")]),t._v(" 解决")]),t._v(" "),a("ol",[a("li",[a("p",[t._v("考虑到计算机图形是为了在屏幕上显示点阵图像，计算中会产生精度误差，从而导致图形抖动。")])]),t._v(" "),a("li",[a("p",[t._v("尝试移动窗口前记录窗口尺寸，移动后重设窗口尺寸")])])]),t._v(" "),a("div",{staticClass:"language-javascript extra-class"},[a("pre",{pre:!0,attrs:{class:"language-javascript"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("let")]),t._v(" oldsize "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" mainWindow"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("getSize")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("...")]),t._v("\nmainWindow"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("setSize")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("oldsize"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("width"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" oldsize"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("height"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),a("ol",{attrs:{start:"3"}},[a("li",[a("p",[t._v("运行尝试，并未达到预期效果。窗口大小仍然会发生大幅改变。")])]),t._v(" "),a("li",[a("p",[t._v("网络上搜索不到相关内容，只能无尽的查api，发现另一个函数 "),a("code",[t._v("xxxBounds()")]),t._v("：")])])]),t._v(" "),a("div",{staticClass:"language-javascript extra-class"},[a("pre",{pre:!0,attrs:{class:"language-javascript"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("let")]),t._v(" oldBounds "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" mainWindow"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("getBounds")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("...")]),t._v("\noldBounds"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("x "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" x\noldBounds"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("y "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" y\nmainWindow"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("setBounds")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("oldBounds"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("true")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),a("p",[t._v("注意这个函数与"),a("code",[t._v("xxxSize()")]),t._v("之间的差异，"),a("code",[t._v("getBounds()")]),t._v("会返回一个四个属性的对象，属性值分别为"),a("code",[t._v("x")]),t._v("->x坐标，"),a("code",[t._v("y")]),t._v("->y坐标，"),a("code",[t._v("width")]),t._v("->窗口宽度，"),a("code",[t._v("height")]),t._v("->窗口高度。")]),t._v(" "),a("p",[t._v("所以在示例中将移动目标点的"),a("code",[t._v("(x,y)")]),t._v("坐标赋值修改至"),a("code",[t._v("oldBounds")]),t._v("，这样通过"),a("code",[t._v("setBounds")]),t._v("函数同时维护窗口的位置及维度。")]),t._v(" "),a("ol",{attrs:{start:"5"}},[a("li",[t._v("运行尝试，"),a("strong",[t._v("成功")]),t._v("，窗口大小不会再发生大幅改变。试着读取窗口大小，变化幅度仅为1像素，长期拖动也不会出现问题。")])]),t._v(" "),a("blockquote",[a("p",[t._v("出现该问题，并且搜不到相关问题解决方案，原因可能是我计算机的"),a("code",[t._v("显示设置")]),t._v("-"),a("code",[t._v("缩放与布局")]),t._v("设置的是"),a("code",[t._v("125%")]),t._v("（仅作猜想，未经验证！）")])])])}),[],!1,null,null,null);s.default=e.exports}}]);